[
  {
    "objectID": "posts/post-with-code/index.html",
    "href": "posts/post-with-code/index.html",
    "title": "Post With Code",
    "section": "",
    "text": "This is a post with executable code."
  },
  {
    "objectID": "posts/welcome/index.html",
    "href": "posts/welcome/index.html",
    "title": "Welcome To My Blog",
    "section": "",
    "text": "Since this post doesn’t specify an explicit image, the first image in the post will be used in the listing page of posts."
  },
  {
    "objectID": "posts/spec_processing/Spectra.html",
    "href": "posts/spec_processing/Spectra.html",
    "title": "Обработка оптических спектров на примере РТТ-150/TFOSC на сервере",
    "section": "",
    "text": "makelog\nСоздадим папку с названием нашей звезды стандарта и скопируем туда спектры данной звезды и файлы ламп FeAr и Halogen\nmkdir BD+25d4655\ncp `cat .log | grep 20200721 | grep '1024 200' | grep BD+25d4655 | awk '{print$3}'` BD+25d4655/\n\nУсредненный bias\nСоздадим папку со спектральными bias и скопируем их туда\nmkdir biassp\ncp `cat .log | grep '1024 200' | grep bias | grep 0.0000 | grep -v flat | awk '{print$3}'` biassp/\nПроверим bias перед усреднением.\ncd biassp/\nls *.fit > biassp.list\ngedit biassp.list & # для удаления \"плохих\" bias из списка\nds9 &\nxs `cat biassp.list`\nПеред тем как делать усреднение нужно исправить ключи в FITS Header к bias, так как у нас не записан правильный GAIN. Для этого выполним команду\n../bin/repair_tfosc_andor_keys *.fit\nУсредним файлы bias по медиане. Для этого небходимо в IRAF открыть noao.imred.ccdred\u0012\u0012\nepar zerocombine\ninput=@biassp.list\noutput=Biassp2.fits\ncombine=median\nВвести команду:go\nСкопируем Biassp2.fits в папку ../Caldata\ncp Biassp2.fits ../Caldata/\nПерейдем в папку BD+25d4655 и исправвим ключи\n../bin/repair_tfosc_andor_keys *.fit\nСоздадим списки:\n* спектров звезды spec.list \n* спектров лампы **FeAr** fear.list\n* спектров лампы **Halogen** halogen.list\ncat .log | grep 100.0 | awk '{print$3}' > spec.list\ncat .log | grep Fe-Ar | awk '{print$3}' > fear.list\ncat .log | grep Halogen | awk '{print$3}' > halogen.list\nВычтем из всх спектров усредненный bias\n../bin/process *.fit | si\n\n\nУсреднение Halogen\nВ IRAF открываем noao.imred.ccdred\nepar combine\ninput=@halogen.list\noutput=halogen\ncombine=average\nЗапускаем :go\n\n\nУсреднение FeAr\nВ IRAF открываем noao.imred.ccdred\nepar combine\ninput=@fear.list\noutput=fear\ncombine=average\n\n\nСоздание функции отклика\nВ IRAF twodspec.longslit\nepar response\ncalibrat=halogen\nnormaliz=halogen\nresponse=nhalogen\nЗапускаем :go\n\n\nДеление спектра звезд на плоское поле\nВ IRAF imred.ccdred\nepar ccdproc\nimages=@spec.list\nflatcor=yes\nflat=nhalogen.fits\nЗапускаем :go\n\n\nПостроение дисперсионной кривой\nIRAF twodspec.longslit\nepar identify\nimages=fear.fits\nsection=middle line\ncoordli=linelists$idhenear.dat\ncradius=8\n\nepar reidentify\ncradius=8\ncoordli=linelists$idhenear.dat\nreferenc=fear\nimages=fear\nepar fitcoords\nimages=fear\nУдаляем плохие точки клавишами d p\ny y r\ny``r``r\n\nВсё замечательно вписалось\n\n\nПривязка спектра звезды по длинам волн\nТрансформируем спектры по найденному в fitcoords решении\nepar transform\ninput=@spec.list\noutput=tr//@spec.list\nfitnames=fear\nЗапускаем :go\n\nВ папке database два файла fcfear, idfear, хотя fitnames=fear\n\n\n\nОчистка от космиков\n ~uskov/runTmp/do_cleancrspec trfosc025*.fit\n\n\nСовмещение спектров звезды для дальнейшего суммирования\nIRAF в пакете iki команда alignspectra\nepar alignspec\nimages=tr//@spec.list\nrefimage=trfosc0254.fit\nprefix=rg\nimreg=[160:670,85:145] # указываем бокс, по которому он будет совмещать спектры для дальнейшего складывания\n\n\nКомбинирование совмещенных спектров\nВ IRAF пакет imred.ccdred команда combine\ncombine input=rgtr//@spec.list output=bd+25d4655.fits\n\n\nЭкстракция спектра\nВ IRAF пакет twodspec.apextract команда apall\napall input=bd+25d4655.fits output=bd+25d4655_end.fits\nКлавиши управления\n\nm создать новую апертуру и центрировать\nd удалить апертуру\nl установить левую границу апертуры\nu установить правую границу апертуры\nb перейти в режим выбора фона.\n\nz удаляет область фона\ns установить левую границу области, а потом правую\nq выйти из режима фона\n\n:o 3 изменить порядок аппроксимации фона\nf аппроксимировать фон заново\n\nВ итоге получим изображение спектра звезды\n\n\n\nПеревод отсчетов в абсолютные потоки\nПосле этого нужно создать файл стандарта звезды std.fits в пакете noao.onedspec\nepar standard\ninput=bd+25d4655_end.fits \noutput=std.fits \nstar=mbd25d4655\ncaldir=./\nУчет DQE и поглощения:\nepar sensfunc \nstandard=std.fits  \nsensitiv=sens\nТеперь переведем стандартный спектр в абсолютные потоки:\nepar calibrate \ninput=bd+25d4655_end.fits \noutput=bd_flux.fits\nsensiti=sens.0001.fits"
  },
  {
    "objectID": "index.html",
    "href": "index.html",
    "title": "uskovgs.github.io",
    "section": "",
    "text": "iraf\n\n\nunix\n\n\n\n\n\n\n\n\n\n\n\nAug 18, 2020\n\n\n\n\n\n\nNo matching items"
  },
  {
    "objectID": "about.html",
    "href": "about.html",
    "title": "About",
    "section": "",
    "text": "About this blog"
  }
]